{% extends "base.html" %}
{% block content %}

<div class="col-md-6 offset-md-3">
    <h1>Registered Users</h1>

    <table class="table table-hover table-bordered">
      <thead class="table-dark">
        <tr>
          <th scope="col">Username</th>
          <th scope="col">Email</th>
          <th scope="col">First Name</th>
          <th scope="col">Last Name</th>
          {% if can_edit %}
          <th scope="col">Actions</th>
          {% endif %}
        </tr>
      </thead>
      <tbody>
        {% for user in users %}
        <tr>
          <td>{{ user.username }}</td>
          <td>{{ user.email }}</td>
          <td>{{ user.first_name }}</td>
          <td>{{ user.last_name }}</td>
          {% if can_edit %}
          <td>
            <!-- Added delete button for superusers -->
            <a href="{% url 'delete_user' user.id %}" class="btn btn-danger">Delete</a>
          </td>
          {% endif %}
        </tr>
        {% endfor %}
      </tbody>
    </table>

    {% if can_edit %}
    <!-- Added link to navigate to the add user page for superusers -->
    <a href="{% url 'add_user' %}" class="btn btn-primary">Add User</a>
    {% endif %}
</div>

{% endblock content %}
